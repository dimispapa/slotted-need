{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-2 mt-md-4 mb-2 mb-md-4">
    <h1 class="display-6 mb-2 mb-md-4"><i class="fa-solid fa-right-to-bracket text-primary"></i> Login</h1>
    <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        {{ form|crispy }}
        <input type="hidden" name="login_form" value="login_form">
        <button type="submit" class="btn btn-primary">Login</button>
    </form>
    <!-- Bootstrap Dropdown for Password Reset Form -->
    <div class="mt-3">
        <div class="dropdown">
            <a class="dropdown-toggle btn btn-warning" href="#" role="button" id="forgotPasswordDropdown" data-bs-toggle="dropdown"
                aria-expanded="false">
                Forgot Password?
            </a>
            <div class="dropdown-menu p-4" aria-labelledby="forgotPasswordDropdown">
                <h2 class="dropdown-header">Reset Your Password</h2>
                <p>Enter your email address below, and we'll send you instructions to reset your password.</p>
                <form method="post" action="{% url 'login' %}">
                    {% csrf_token %}
                    {{ password_reset_form|crispy }}
                    <input type="hidden" name="password_reset_form" value="password_reset_form">
                    <button type="submit" class="btn btn-primary">Send Reset Email</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}